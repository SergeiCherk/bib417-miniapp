<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>–ë–ò–ë-417</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Unbounded:wght@400;600;700&family=Manrope:wght@400;500;600&display=swap');

  :root {
    --bg: #0f0f14;
    --surface: #17171f;
    --surface2: #1e1e29;
    --border: rgba(255,255,255,0.07);
    --accent: #6c63ff;
    --accent2: #ff6b6b;
    --accent3: #43e97b;
    --text: #f0f0f8;
    --muted: #6b6b88;
    --card-shadow: 0 4px 24px rgba(0,0,0,0.4);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

  body {
    font-family: 'Manrope', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* === –®–ê–ü–ö–ê === */
  .header {
    position: sticky;
    top: 0;
    z-index: 100;
    background: rgba(15,15,20,0.92);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--border);
    padding: 14px 20px 10px;
  }
  .header-top {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
  }
  .logo {
    font-family: 'Unbounded', sans-serif;
    font-size: 18px;
    font-weight: 700;
    letter-spacing: -0.5px;
    background: linear-gradient(135deg, #6c63ff, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .user-badge {
    display: flex;
    align-items: center;
    gap: 8px;
    background: var(--surface2);
    padding: 6px 12px 6px 8px;
    border-radius: 20px;
    font-size: 12px;
    color: var(--muted);
  }
  .user-avatar {
    width: 24px; height: 24px;
    border-radius: 50%;
    background: linear-gradient(135deg, #6c63ff, #a78bfa);
    display: flex; align-items: center; justify-content: center;
    font-size: 11px; font-weight: 700; color: white;
  }

  /* === –ù–ê–í–ò–ì–ê–¶–ò–Ø === */
  .nav {
    display: flex;
    gap: 6px;
    overflow-x: auto;
    scrollbar-width: none;
    padding: 2px 0;
  }
  .nav::-webkit-scrollbar { display: none; }
  .nav-btn {
    flex-shrink: 0;
    padding: 7px 14px;
    border-radius: 20px;
    border: 1px solid var(--border);
    background: transparent;
    color: var(--muted);
    font-family: 'Manrope', sans-serif;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    white-space: nowrap;
  }
  .nav-btn.active {
    background: var(--accent);
    border-color: var(--accent);
    color: white;
    box-shadow: 0 0 20px rgba(108,99,255,0.4);
  }

  /* === –ö–û–ù–¢–ï–ù–¢ === */
  .content { padding: 16px 16px 100px; }

  /* === –°–ï–ö–¶–ò–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ò === */
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    margin-bottom: 20px;
  }
  .stat-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 14px 10px;
    text-align: center;
    animation: fadeUp 0.4s ease both;
  }
  .stat-card:nth-child(1) { animation-delay: 0.05s; }
  .stat-card:nth-child(2) { animation-delay: 0.1s; }
  .stat-card:nth-child(3) { animation-delay: 0.15s; }
  .stat-num {
    font-family: 'Unbounded', sans-serif;
    font-size: 22px;
    font-weight: 700;
    line-height: 1;
    margin-bottom: 4px;
  }
  .stat-label { font-size: 10px; color: var(--muted); line-height: 1.3; }
  .stat-card.hw .stat-num { color: var(--accent); }
  .stat-card.exams .stat-num { color: var(--accent2); }
  .stat-card.done .stat-num { color: var(--accent3); }

  /* === –ö–ê–†–¢–û–ß–ö–ò === */
  .section-title {
    font-family: 'Unbounded', sans-serif;
    font-size: 13px;
    font-weight: 600;
    color: var(--muted);
    text-transform: uppercase;
    letter-spacing: 0.08em;
    margin-bottom: 10px;
    margin-top: 4px;
  }

  .card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 18px;
    padding: 16px;
    margin-bottom: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    animation: fadeUp 0.4s ease both;
    position: relative;
    overflow: hidden;
  }
  .card::before {
    content: '';
    position: absolute;
    top: 0; left: 0;
    width: 3px; height: 100%;
    border-radius: 2px 0 0 2px;
  }
  .card.hw::before { background: var(--accent); }
  .card.exam::before { background: var(--accent2); }
  .card.credit::before { background: var(--accent3); }
  .card.lecture::before { background: #f9a825; }

  .card:active { transform: scale(0.98); background: var(--surface2); }

  .card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 10px;
    margin-bottom: 8px;
  }
  .card-title {
    font-family: 'Unbounded', sans-serif;
    font-size: 13px;
    font-weight: 600;
    line-height: 1.35;
    flex: 1;
  }
  .badge {
    flex-shrink: 0;
    padding: 3px 8px;
    border-radius: 8px;
    font-size: 10px;
    font-weight: 700;
    letter-spacing: 0.02em;
  }
  .badge.urgent { background: rgba(255,107,107,0.2); color: var(--accent2); }
  .badge.soon { background: rgba(249,168,37,0.2); color: #f9a825; }
  .badge.ok { background: rgba(67,233,123,0.2); color: var(--accent3); }
  .badge.done { background: rgba(67,233,123,0.1); color: var(--accent3); }
  .badge.overdue { background: rgba(255,107,107,0.1); color: var(--muted); text-decoration: line-through; }

  .card-meta {
    display: flex;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
  }
  .meta-item {
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: 11px;
    color: var(--muted);
  }
  .meta-item svg { opacity: 0.6; }

  .progress-bar {
    height: 3px;
    background: var(--border);
    border-radius: 2px;
    margin-top: 10px;
    overflow: hidden;
  }
  .progress-fill {
    height: 100%;
    border-radius: 2px;
    transition: width 0.8s cubic-bezier(0.34,1.56,0.64,1);
  }

  /* === –î–ï–¢–ê–õ–¨–ù–ê–Ø –°–¢–†–ê–ù–ò–¶–ê === */
  .detail-view {
    display: none;
    position: fixed;
    inset: 0;
    background: var(--bg);
    z-index: 200;
    overflow-y: auto;
    animation: slideUp 0.3s ease;
  }
  .detail-view.open { display: block; }

  .detail-header {
    position: sticky;
    top: 0;
    background: rgba(15,15,20,0.95);
    backdrop-filter: blur(20px);
    padding: 16px 20px;
    display: flex;
    align-items: center;
    gap: 12px;
    border-bottom: 1px solid var(--border);
  }
  .back-btn {
    width: 36px; height: 36px;
    border-radius: 50%;
    background: var(--surface2);
    border: 1px solid var(--border);
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; color: var(--text);
    font-size: 16px; flex-shrink: 0;
    transition: background 0.15s;
  }
  .back-btn:active { background: var(--accent); }
  .detail-title-wrap { flex: 1; }
  .detail-type { font-size: 11px; color: var(--muted); margin-bottom: 2px; }
  .detail-name {
    font-family: 'Unbounded', sans-serif;
    font-size: 15px;
    font-weight: 700;
    line-height: 1.3;
  }

  .detail-body { padding: 20px; }

  .info-block {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 16px;
    margin-bottom: 12px;
  }
  .info-row {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    padding: 8px 0;
    border-bottom: 1px solid var(--border);
  }
  .info-row:last-child { border-bottom: none; padding-bottom: 0; }
  .info-row:first-child { padding-top: 0; }
  .info-icon { font-size: 16px; flex-shrink: 0; margin-top: 1px; }
  .info-content { flex: 1; }
  .info-label { font-size: 10px; color: var(--muted); margin-bottom: 2px; }
  .info-value { font-size: 13px; color: var(--text); line-height: 1.5; }

  .countdown-big {
    background: linear-gradient(135deg, rgba(108,99,255,0.15), rgba(167,139,250,0.1));
    border: 1px solid rgba(108,99,255,0.3);
    border-radius: 16px;
    padding: 20px;
    text-align: center;
    margin-bottom: 12px;
  }
  .countdown-label { font-size: 11px; color: var(--muted); margin-bottom: 8px; }
  .countdown-value {
    font-family: 'Unbounded', sans-serif;
    font-size: 26px;
    font-weight: 700;
    background: linear-gradient(135deg, #a78bfa, #6c63ff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .countdown-days { font-size: 12px; color: var(--muted); margin-top: 4px; }

  .done-btn {
    width: 100%;
    padding: 16px;
    border-radius: 16px;
    border: none;
    font-family: 'Unbounded', sans-serif;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    margin-top: 8px;
  }
  .done-btn.mark { background: var(--accent); color: white; }
  .done-btn.mark:hover { box-shadow: 0 0 30px rgba(108,99,255,0.5); }
  .done-btn.unmark { background: var(--surface2); color: var(--muted); border: 1px solid var(--border); }

  /* === –ß–ï–ö–õ–ò–°–¢ === */
  .checklist { list-style: none; }
  .checklist-item {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 10px 12px;
    border-radius: 12px;
    cursor: pointer;
    transition: background 0.15s;
    margin-bottom: 4px;
  }
  .checklist-item:active { background: var(--surface2); }
  .check-box {
    width: 20px; height: 20px;
    border-radius: 6px;
    border: 2px solid var(--border);
    flex-shrink: 0;
    display: flex; align-items: center; justify-content: center;
    transition: all 0.2s;
    margin-top: 1px;
  }
  .checklist-item.checked .check-box {
    background: var(--accent3);
    border-color: var(--accent3);
  }
  .check-text {
    font-size: 13px;
    line-height: 1.5;
    color: var(--text);
    transition: color 0.2s;
  }
  .checklist-item.checked .check-text { color: var(--muted); text-decoration: line-through; }

  .checklist-progress {
    background: var(--surface2);
    border-radius: 12px;
    padding: 12px 16px;
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  .checklist-progress-bar {
    flex: 1;
    height: 6px;
    background: var(--border);
    border-radius: 3px;
    margin: 0 12px;
    overflow: hidden;
  }
  .checklist-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--accent), var(--accent3));
    border-radius: 3px;
    transition: width 0.4s ease;
  }
  .progress-count { font-size: 12px; color: var(--muted); white-space: nowrap; }

  /* === –ü–£–°–¢–û–ô –≠–ö–†–ê–ù === */
  .empty-state {
    text-align: center;
    padding: 60px 20px;
    animation: fadeUp 0.4s ease;
  }
  .empty-emoji { font-size: 48px; margin-bottom: 16px; }
  .empty-title {
    font-family: 'Unbounded', sans-serif;
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 8px;
  }
  .empty-sub { font-size: 13px; color: var(--muted); }

  /* === –ê–ù–ò–ú–ê–¶–ò–ò === */
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(16px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes slideUp {
    from { transform: translateY(30px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }

  /* === –¢–ê–ë–ë–ê–† (–¥–Ω–æ) === */
  .tabbar {
    position: fixed;
    bottom: 0; left: 0; right: 0;
    background: rgba(15,15,20,0.96);
    backdrop-filter: blur(20px);
    border-top: 1px solid var(--border);
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    padding: 8px 0 20px;
    z-index: 100;
  }
  .tab-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 3px;
    padding: 6px 4px;
    cursor: pointer;
    transition: all 0.2s;
    border-radius: 12px;
    margin: 0 4px;
  }
  .tab-icon { font-size: 20px; transition: transform 0.2s; }
  .tab-item.active .tab-icon { transform: scale(1.15); }
  .tab-label { font-size: 9px; font-weight: 600; color: var(--muted); transition: color 0.2s; }
  .tab-item.active .tab-label { color: var(--accent); }
  .tab-item.active .tab-icon { filter: drop-shadow(0 0 6px rgba(108,99,255,0.6)); }

  /* === –°–ö–†–û–õ–õ === */
  ::-webkit-scrollbar { width: 0; }
</style>
</head>
<body>

<!-- –®–ê–ü–ö–ê -->
<div class="header">
  <div class="header-top">
    <div class="logo">–ë–ò–ë-417</div>
    <div class="user-badge">
      <div class="user-avatar" id="userInitial">?</div>
      <span id="userName">–°—Ç—É–¥–µ–Ω—Ç</span>
    </div>
  </div>
  <div class="nav" id="filterNav"></div>
</div>

<!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ -->
<div class="content" id="mainContent">
  <div style="text-align:center;padding:60px 0;">
    <div style="font-size:32px;margin-bottom:12px;">‚ö°Ô∏è</div>
    <div style="font-family:'Unbounded',sans-serif;font-size:14px;">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
  </div>
</div>

<!-- –¢–ê–ë–ë–ê–† -->
<div class="tabbar">
  <div class="tab-item active" onclick="switchTab('hw')">
    <span class="tab-icon">üìù</span>
    <span class="tab-label">–î–ó</span>
  </div>
  <div class="tab-item" onclick="switchTab('credits')">
    <span class="tab-icon">‚úÖ</span>
    <span class="tab-label">–ó–∞—á—ë—Ç—ã</span>
  </div>
  <div class="tab-item" onclick="switchTab('exams')">
    <span class="tab-icon">üìö</span>
    <span class="tab-label">–≠–∫–∑–∞–º–µ–Ω—ã</span>
  </div>
  <div class="tab-item" onclick="switchTab('lectures')">
    <span class="tab-icon">üìñ</span>
    <span class="tab-label">–õ–µ–∫—Ü–∏–∏</span>
  </div>
</div>

<!-- –î–ï–¢–ê–õ–¨–ù–ê–Ø –°–¢–†–ê–ù–ò–¶–ê -->
<div class="detail-view" id="detailView">
  <div class="detail-header">
    <div class="back-btn" onclick="closeDetail()">‚Äπ</div>
    <div class="detail-title-wrap">
      <div class="detail-type" id="detailType"></div>
      <div class="detail-name" id="detailName"></div>
    </div>
  </div>
  <div class="detail-body" id="detailBody"></div>
</div>

<script>
// ===== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø TELEGRAM =====
const tg = window.Telegram?.WebApp;
if (tg) {
  tg.expand();
  tg.setHeaderColor('#0f0f14');
  tg.setBackgroundColor('#0f0f14');
}

// ===== –î–ê–ù–ù–´–ï (–∑–∞–≥–ª—É—à–∫–∏ ‚Äî –±–æ—Ç –ø–µ—Ä–µ–¥–∞—Å—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —á–µ—Ä–µ–∑ initData) =====
let DATA = {
  user: { name: "–°—Ç—É–¥–µ–Ω—Ç", initials: "–°" },
  homework: [
    { id: 1, subject: "–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑", description: "–†–µ—à–∏—Ç—å –∑–∞–¥–∞—á–∏ ‚Ññ15-20 –∏–∑ –∑–∞–¥–∞—á–Ω–∏–∫–∞ –î–µ–º–∏–¥–æ–≤–∏—á–∞", deadline: "2026-02-20T23:59:00", done: false, files: ["zadachi.pdf"] },
    { id: 2, subject: "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ", description: "–ù–∞–ø–∏—Å–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø—É–∑—ã—Ä—å–∫–æ–º –Ω–∞ Python", deadline: "2026-02-16T18:00:00", done: false, files: [] },
    { id: 3, subject: "–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö", description: "ER-–¥–∏–∞–≥—Ä–∞–º–º–∞ –¥–ª—è –∑–∞–¥–∞–Ω–∏—è –∏–∑ –ª–µ–∫—Ü–∏–∏ 4", deadline: "2026-02-15T23:59:00", done: true, files: ["er_template.docx"] },
    { id: 4, subject: "–î–∏—Å–∫—Ä–µ—Ç–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞", description: "–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ2: –≥—Ä–∞—Ñ—ã –∏ –¥–µ—Ä–µ–≤—å—è", deadline: "2026-02-14T12:00:00", done: false, files: [] },
  ],
  credits: [
    { id: 1, subject: "–§–∏–∑–∏—á–µ—Å–∫–∞—è –∫—É–ª—å—Ç—É—Ä–∞", teacher: "–ö–æ–∑–ª–æ–≤ –ê.–í.", date: "2026-05-20T10:00:00", location: "–°–ø–æ—Ä—Ç–∑–∞–ª", auto_req: "–ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å –Ω–µ –º–µ–Ω–µ–µ 80%", questions: ["–ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã –≤ –≤–æ–ª–µ–π–±–æ–ª", "–¢–µ—Ö–Ω–∏–∫–∞ –±–µ–≥–∞", "–†–∞–∑–º–∏–Ω–∫–∞ –ø–µ—Ä–µ–¥ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–æ–π"] },
    { id: 2, subject: "–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫", teacher: "–ü–µ—Ç—Ä–æ–≤–∞ –ù.–ê.", date: "2026-05-15T14:00:00", location: "–ê—É–¥. 301", auto_req: "–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–∞–±–æ—Ç", questions: ["Present Perfect vs Past Simple", "–ú–æ–¥–∞–ª—å–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã", "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ª–µ–∫—Å–∏–∫–∞ IT", "Reading comprehension", "Listening tasks"] },
  ],
  exams: [
    { id: 1, subject: "–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑", teacher: "–ò–≤–∞–Ω–æ–≤ –ò.–ò.", exam_date: "2026-06-10T09:00:00", location: "–ê—É–¥. 215", consult_date: "2026-06-08T14:00:00", questions: ["–ü—Ä–µ–¥–µ–ª—ã —Ñ—É–Ω–∫—Ü–∏–π", "–ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ", "–ò–Ω—Ç–µ–≥—Ä–∞–ª—ã", "–†—è–¥—ã", "–î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è", "–§—É–Ω–∫—Ü–∏–∏ –º–Ω–æ–≥–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö"] },
    { id: 2, subject: "–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö", teacher: "–°–∏–¥–æ—Ä–æ–≤–∞ –û.–ü.", exam_date: "2026-06-15T11:00:00", location: "–ê—É–¥. 112", consult_date: "2026-06-13T13:00:00", questions: ["ER-–º–æ–¥–µ–ª–∏", "SQL –∑–∞–ø—Ä–æ—Å—ã", "–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è", "–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏", "–ò–Ω–¥–µ–∫—Å—ã"] },
  ],
  lectures: [
    { id: 1, subject: "–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑", lectures: [
      { id: 1, title: "–ü—Ä–µ–¥–µ–ª—ã —Ñ—É–Ω–∫—Ü–∏–π", date: "2026-09-05", description: "–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è: –ø—Ä–µ–¥–µ–ª —Ñ—É–Ω–∫—Ü–∏–∏, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ö–æ—à–∏ –∏ –ì–µ–π–Ω–µ..." },
      { id: 2, title: "–ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ", date: "2026-09-12", description: "–ü–æ–Ω—è—Ç–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–π, –ø—Ä–∞–≤–∏–ª–∞ –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è..." },
      { id: 3, title: "–ò–Ω—Ç–µ–≥—Ä–∞–ª—ã", date: "2026-09-19", description: "–ù–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –∏–Ω—Ç–µ–≥—Ä–∞–ª, —Ç–∞–±–ª–∏—Ü–∞ –∏–Ω—Ç–µ–≥—Ä–∞–ª–æ–≤..." },
    ]},
    { id: 2, subject: "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ", lectures: [
      { id: 4, title: "–í–≤–µ–¥–µ–Ω–∏–µ –≤ Python", date: "2026-09-05", description: "–°–∏–Ω—Ç–∞–∫—Å–∏—Å Python, —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö, –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã..." },
      { id: 5, title: "–§—É–Ω–∫—Ü–∏–∏ –∏ –º–æ–¥—É–ª–∏", date: "2026-09-12", description: "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π, –∞—Ä–≥—É–º–µ–Ω—Ç—ã, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è..." },
    ]},
  ],
  progress: {} // user progress for checklists
};

// –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ Telegram
try {
  const initDataParsed = new URLSearchParams(tg?.initData || '');
  const userStr = initDataParsed.get('user');
  if (userStr) {
    const u = JSON.parse(userStr);
    DATA.user.name = u.first_name || "–°—Ç—É–¥–µ–Ω—Ç";
    DATA.user.initials = (u.first_name || "–°").charAt(0).toUpperCase();
  }
} catch(e) {}

// ===== –°–û–°–¢–û–Ø–ù–ò–ï =====
let currentTab = 'hw';
let hwFilter = 'active';
let doneHw = new Set(DATA.homework.filter(h => h.done).map(h => h.id));
let progress = {}; // { "credit_1": Set([0,1,2]), "exam_1": Set([0]) }

// ===== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø UI =====
document.getElementById('userInitial').textContent = DATA.user.initials;
document.getElementById('userName').textContent = DATA.user.name;

function switchTab(tab) {
  currentTab = tab;
  document.querySelectorAll('.tab-item').forEach((el, i) => {
    const tabs = ['hw','credits','exams','lectures'];
    el.classList.toggle('active', tabs[i] === tab);
  });
  renderContent();
}

function renderContent() {
  switch(currentTab) {
    case 'hw':      renderHomework(); break;
    case 'credits': renderCredits();  break;
    case 'exams':   renderExams();    break;
    case 'lectures':renderLectures(); break;
  }
}

// ===== –£–¢–ò–õ–ò–¢–´ =====
function timeLeft(dateStr) {
  const now = new Date();
  const dt = new Date(dateStr);
  const diff = dt - now;
  if (diff < 0) return { label: "–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ", type: "overdue" };
  const days = Math.floor(diff / 86400000);
  const hours = Math.floor((diff % 86400000) / 3600000);
  const mins = Math.floor((diff % 3600000) / 60000);
  if (days > 7)  return { label: `${days} –¥–Ω–µ–π`, type: "ok" };
  if (days >= 3) return { label: `${days} –¥–Ω. ${hours} —á.`, type: "soon" };
  if (days >= 1) return { label: `${days} –¥–Ω. ${hours} —á.`, type: "urgent" };
  if (hours >= 1) return { label: `${hours} —á. ${mins} –º–∏–Ω.`, type: "urgent" };
  return { label: `${mins} –º–∏–Ω.!`, type: "urgent" };
}

function formatDate(dateStr, withTime = true) {
  if (!dateStr) return "‚Äî";
  const dt = new Date(dateStr);
  const d = dt.toLocaleDateString('ru-RU', { day:'2-digit', month:'2-digit', year:'numeric' });
  if (!withTime) return d;
  const t = dt.toLocaleTimeString('ru-RU', { hour:'2-digit', minute:'2-digit' });
  return `${d} ${t}`;
}

function setNav(items, activeKey, onSelect) {
  const nav = document.getElementById('filterNav');
  nav.innerHTML = items.map(it => 
    `<button class="nav-btn ${it.key === activeKey ? 'active' : ''}" onclick="(${onSelect.toString()})('${it.key}')">${it.label}</button>`
  ).join('');
}

// ===== –î–ó =====
function renderHomework() {
  setNav([
    { key: 'active', label: '‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ' },
    { key: 'all', label: 'üìã –í—Å–µ' },
    { key: 'overdue', label: '‚è∞ –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ' },
    { key: 'done', label: '‚úîÔ∏è –í—ã–ø–æ–ª–Ω–µ–Ω–æ' },
  ], hwFilter, (f) => { hwFilter = f; renderHomework(); });

  const now = new Date();
  let list = DATA.homework.filter(hw => {
    const dl = new Date(hw.deadline);
    const isDone = doneHw.has(hw.id);
    if (hwFilter === 'active')  return !isDone && dl > now;
    if (hwFilter === 'overdue') return !isDone && dl <= now;
    if (hwFilter === 'done')    return isDone;
    return true;
  });

  const doneCount = doneHw.size;
  const total = DATA.homework.length;
  const pct = total ? Math.round(doneCount / total * 100) : 0;

  let html = `
    <div class="stats-grid">
      <div class="stat-card hw">
        <div class="stat-num">${list.length}</div>
        <div class="stat-label">–∑–∞–¥–∞–Ω–∏–π</div>
      </div>
      <div class="stat-card done">
        <div class="stat-num">${doneCount}</div>
        <div class="stat-label">–≤—ã–ø–æ–ª–Ω–µ–Ω–æ</div>
      </div>
      <div class="stat-card exams">
        <div class="stat-num">${pct}%</div>
        <div class="stat-label">–ø—Ä–æ–≥—Ä–µ—Å—Å</div>
      </div>
    </div>`;

  if (!list.length) {
    html += `<div class="empty-state"><div class="empty-emoji">üéâ</div><div class="empty-title">–í—Å—ë –≤—ã–ø–æ–ª–Ω–µ–Ω–æ!</div><div class="empty-sub">–ù–µ—Ç –∑–∞–¥–∞–Ω–∏–π –≤ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</div></div>`;
  } else {
    html += `<div class="section-title">–ó–∞–¥–∞–Ω–∏—è</div>`;
    list.forEach((hw, i) => {
      const tl = timeLeft(hw.deadline);
      const isDone = doneHw.has(hw.id);
      html += `
        <div class="card hw" style="animation-delay:${i*0.05}s" onclick="openHwDetail(${hw.id})">
          <div class="card-header">
            <div class="card-title">${hw.subject}</div>
            <span class="badge ${isDone ? 'done' : tl.type}">${isDone ? '‚úì –°–¥–∞–Ω–æ' : tl.label}</span>
          </div>
          <div class="card-meta">
            <div class="meta-item">üìÖ ${formatDate(hw.deadline)}</div>
            ${hw.files.length ? `<div class="meta-item">üìé ${hw.files.length} —Ñ–∞–π–ª(–∞)</div>` : ''}
          </div>
          ${!isDone ? `<div class="progress-bar"><div class="progress-fill" style="width:${Math.max(5,100-Math.max(0,(new Date(hw.deadline)-new Date())/86400000*10))}%;background:${tl.type==='ok'?'var(--accent3)':tl.type==='soon'?'#f9a825':'var(--accent2)'}"></div></div>` : ''}
        </div>`;
    });
  }

  document.getElementById('mainContent').innerHTML = html;
}

function openHwDetail(id) {
  const hw = DATA.homework.find(h => h.id === id);
  if (!hw) return;
  const isDone = doneHw.has(id);
  const tl = timeLeft(hw.deadline);
  document.getElementById('detailType').textContent = 'üìù –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ';
  document.getElementById('detailName').textContent = hw.subject;

  document.getElementById('detailBody').innerHTML = `
    <div class="countdown-big">
      <div class="countdown-label">–î–æ —Å–¥–∞—á–∏ –æ—Å—Ç–∞–ª–æ—Å—å</div>
      <div class="countdown-value">${tl.label}</div>
      <div class="countdown-days">–°—Ä–æ–∫: ${formatDate(hw.deadline)}</div>
    </div>
    <div class="info-block">
      <div class="info-row">
        <span class="info-icon">üìã</span>
        <div class="info-content">
          <div class="info-label">–ó–∞–¥–∞–Ω–∏–µ</div>
          <div class="info-value">${hw.description}</div>
        </div>
      </div>
      ${hw.files.length ? `<div class="info-row">
        <span class="info-icon">üìé</span>
        <div class="info-content">
          <div class="info-label">–ü—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã</div>
          <div class="info-value">${hw.files.join(', ')}</div>
        </div>
      </div>` : ''}
    </div>
    <button class="done-btn ${isDone ? 'unmark' : 'mark'}" onclick="toggleHwDone(${id})">
      ${isDone ? '‚Ü©Ô∏è –û—Ç–º–µ—Ç–∏—Ç—å –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º' : '‚úÖ –û—Ç–º–µ—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º'}
    </button>
  `;
  openDetail();
  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞
  let interval = setInterval(() => {
    const tl2 = timeLeft(hw.deadline);
    const cv = document.querySelector('.countdown-value');
    if (cv) cv.textContent = tl2.label; else clearInterval(interval);
  }, 30000);
}

function toggleHwDone(id) {
  if (doneHw.has(id)) doneHw.delete(id);
  else doneHw.add(id);
  // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –≤ –±–æ—Ç
  tg?.sendData(JSON.stringify({ action: 'toggle_hw', hw_id: id, done: doneHw.has(id) }));
  openHwDetail(id);
  if (tg) tg.HapticFeedback?.impactOccurred('light');
}

// ===== –ó–ê–ß–Å–¢–´ =====
function renderCredits() {
  document.getElementById('filterNav').innerHTML = '';
  let html = '';
  if (!DATA.credits.length) {
    html = `<div class="empty-state"><div class="empty-emoji">‚úÖ</div><div class="empty-title">–ó–∞—á—ë—Ç–æ–≤ –Ω–µ—Ç</div><div class="empty-sub">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –µ—â—ë –Ω–∏—á–µ–≥–æ –Ω–µ –¥–æ–±–∞–≤–∏–ª</div></div>`;
  } else {
    html += `<div class="section-title">–ó–∞—á—ë—Ç—ã</div>`;
    DATA.credits.forEach((cr, i) => {
      const tl = timeLeft(cr.date);
      html += `
        <div class="card credit" style="animation-delay:${i*0.06}s" onclick="openCreditDetail(${cr.id})">
          <div class="card-header">
            <div class="card-title">${cr.subject}</div>
            <span class="badge ${tl.type}">${tl.label}</span>
          </div>
          <div class="card-meta">
            <div class="meta-item">üë§ ${cr.teacher}</div>
            <div class="meta-item">üìÖ ${formatDate(cr.date)}</div>
          </div>
          <div class="card-meta" style="margin-top:6px">
            <div class="meta-item">üìã ${cr.questions.length} –≤–æ–ø—Ä–æ—Å–æ–≤</div>
            <div class="meta-item">üìç ${cr.location}</div>
          </div>
        </div>`;
    });
  }
  document.getElementById('mainContent').innerHTML = html;
}

function openCreditDetail(id) {
  const cr = DATA.credits.find(c => c.id === id);
  if (!cr) return;
  const key = `credit_${id}`;
  if (!progress[key]) progress[key] = new Set();
  const done = progress[key].size;

  document.getElementById('detailType').textContent = '‚úÖ –ó–∞—á—ë—Ç';
  document.getElementById('detailName').textContent = cr.subject;
  renderCreditDetailBody(cr);
  openDetail();
}

function renderCreditDetailBody(cr) {
  const key = `credit_${cr.id}`;
  if (!progress[key]) progress[key] = new Set();
  const done = progress[key].size;
  const total = cr.questions.length;

  document.getElementById('detailBody').innerHTML = `
    <div class="info-block">
      <div class="info-row"><span class="info-icon">üë§</span><div class="info-content"><div class="info-label">–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å</div><div class="info-value">${cr.teacher}</div></div></div>
      <div class="info-row"><span class="info-icon">üìÖ</span><div class="info-content"><div class="info-label">–î–∞—Ç–∞ –∑–∞—á—ë—Ç–∞</div><div class="info-value">${formatDate(cr.date)}</div></div></div>
      <div class="info-row"><span class="info-icon">üìç</span><div class="info-content"><div class="info-label">–ê—É–¥–∏—Ç–æ—Ä–∏—è</div><div class="info-value">${cr.location}</div></div></div>
      <div class="info-row"><span class="info-icon">üèÜ</span><div class="info-content"><div class="info-label">–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∞</div><div class="info-value">${cr.auto_req}</div></div></div>
    </div>
    <div class="section-title">–í–æ–ø—Ä–æ—Å—ã –∫ –∑–∞—á—ë—Ç—É</div>
    <div class="checklist-progress">
      <span class="progress-count">0</span>
      <div class="checklist-progress-bar"><div class="checklist-progress-fill" id="clFill_${cr.id}" style="width:0%"></div></div>
      <span class="progress-count" id="clCount_${cr.id}">${done}/${total}</span>
    </div>
    <ul class="checklist" id="checklist_${cr.id}">
      ${cr.questions.map((q, i) => `
        <li class="checklist-item ${progress[`credit_${cr.id}`]?.has(i) ? 'checked' : ''}" onclick="toggleCheck('credit',${cr.id},${i})">
          <div class="check-box">${progress[`credit_${cr.id}`]?.has(i) ? '<svg width="12" height="9" viewBox="0 0 12 9"><path d="M1 4l3.5 3.5L11 1" stroke="white" stroke-width="2" fill="none" stroke-linecap="round"/></svg>' : ''}</div>
          <span class="check-text">${i+1}. ${q}</span>
        </li>`).join('')}
    </ul>
  `;
  updateChecklistUI(`credit`, cr.id, total);
}

// ===== –≠–ö–ó–ê–ú–ï–ù–´ =====
function renderExams() {
  document.getElementById('filterNav').innerHTML = '';
  let html = '';
  if (!DATA.exams.length) {
    html = `<div class="empty-state"><div class="empty-emoji">üìö</div><div class="empty-title">–≠–∫–∑–∞–º–µ–Ω–æ–≤ –Ω–µ—Ç</div><div class="empty-sub">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –µ—â—ë –Ω–∏—á–µ–≥–æ –Ω–µ –¥–æ–±–∞–≤–∏–ª</div></div>`;
  } else {
    html += `<div class="section-title">–≠–∫–∑–∞–º–µ–Ω—ã</div>`;
    DATA.exams.forEach((ex, i) => {
      const tl = timeLeft(ex.exam_date);
      html += `
        <div class="card exam" style="animation-delay:${i*0.06}s" onclick="openExamDetail(${ex.id})">
          <div class="card-header">
            <div class="card-title">${ex.subject}</div>
            <span class="badge ${tl.type}">${tl.label}</span>
          </div>
          <div class="card-meta">
            <div class="meta-item">üë§ ${ex.teacher}</div>
            <div class="meta-item">üìÖ ${formatDate(ex.exam_date)}</div>
          </div>
          <div class="card-meta" style="margin-top:6px">
            <div class="meta-item">üìã ${ex.questions.length} –≤–æ–ø—Ä–æ—Å–æ–≤</div>
            <div class="meta-item">üìç ${ex.location}</div>
          </div>
        </div>`;
    });
  }
  document.getElementById('mainContent').innerHTML = html;
}

function openExamDetail(id) {
  const ex = DATA.exams.find(e => e.id === id);
  if (!ex) return;
  document.getElementById('detailType').textContent = 'üìö –≠–∫–∑–∞–º–µ–Ω';
  document.getElementById('detailName').textContent = ex.subject;
  renderExamDetailBody(ex);
  openDetail();
}

function renderExamDetailBody(ex) {
  const key = `exam_${ex.id}`;
  if (!progress[key]) progress[key] = new Set();
  const done = progress[key].size;
  const total = ex.questions.length;
  const tl = timeLeft(ex.exam_date);

  document.getElementById('detailBody').innerHTML = `
    <div class="countdown-big">
      <div class="countdown-label">–î–æ —ç–∫–∑–∞–º–µ–Ω–∞</div>
      <div class="countdown-value">${tl.label}</div>
      <div class="countdown-days">${formatDate(ex.exam_date)}</div>
    </div>
    <div class="info-block">
      <div class="info-row"><span class="info-icon">üë§</span><div class="info-content"><div class="info-label">–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å</div><div class="info-value">${ex.teacher}</div></div></div>
      <div class="info-row"><span class="info-icon">üìç</span><div class="info-content"><div class="info-label">–ê—É–¥–∏—Ç–æ—Ä–∏—è</div><div class="info-value">${ex.location}</div></div></div>
      ${ex.consult_date ? `<div class="info-row"><span class="info-icon">üóì</span><div class="info-content"><div class="info-label">–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è</div><div class="info-value">${formatDate(ex.consult_date)}</div></div></div>` : ''}
    </div>
    <div class="section-title">–°–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤</div>
    <div class="checklist-progress">
      <span class="progress-count">0</span>
      <div class="checklist-progress-bar"><div class="checklist-progress-fill" id="clFill_ex${ex.id}" style="width:0%"></div></div>
      <span class="progress-count" id="clCount_ex${ex.id}">${done}/${total}</span>
    </div>
    <ul class="checklist" id="checklist_ex${ex.id}">
      ${ex.questions.map((q, i) => `
        <li class="checklist-item ${progress[key]?.has(i) ? 'checked' : ''}" onclick="toggleCheck('exam',${ex.id},${i})">
          <div class="check-box">${progress[key]?.has(i) ? '<svg width="12" height="9" viewBox="0 0 12 9"><path d="M1 4l3.5 3.5L11 1" stroke="white" stroke-width="2" fill="none" stroke-linecap="round"/></svg>' : ''}</div>
          <span class="check-text">${i+1}. ${q}</span>
        </li>`).join('')}
    </ul>
  `;
  updateChecklistUI('exam', ex.id, total);
}

// ===== –ß–ï–ö–õ–ò–°–¢ =====
function toggleCheck(type, id, qIndex) {
  const key = `${type}_${id}`;
  if (!progress[key]) progress[key] = new Set();
  if (progress[key].has(qIndex)) progress[key].delete(qIndex);
  else progress[key].add(qIndex);
  if (tg) tg.HapticFeedback?.selectionChanged();

  // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
  const prefix = type === 'exam' ? 'ex' : '';
  const item = document.querySelector(`#checklist_${prefix}${id} li:nth-child(${qIndex+1})`);
  if (item) {
    const isChecked = progress[key].has(qIndex);
    item.classList.toggle('checked', isChecked);
    item.querySelector('.check-box').innerHTML = isChecked 
      ? '<svg width="12" height="9" viewBox="0 0 12 9"><path d="M1 4l3.5 3.5L11 1" stroke="white" stroke-width="2" fill="none" stroke-linecap="round"/></svg>' 
      : '';
  }

  const total = type === 'credit' 
    ? DATA.credits.find(c=>c.id===id)?.questions.length 
    : DATA.exams.find(e=>e.id===id)?.questions.length;
  updateChecklistUI(type, id, total || 0);
}

function updateChecklistUI(type, id, total) {
  const key = `${type}_${id}`;
  const prefix = type === 'exam' ? 'ex' : '';
  const done = progress[key]?.size || 0;
  const pct = total ? (done/total*100) : 0;
  const fill = document.getElementById(`clFill_${prefix}${id}`);
  const count = document.getElementById(`clCount_${prefix}${id}`);
  if (fill) fill.style.width = pct + '%';
  if (count) count.textContent = `${done}/${total}`;
}

// ===== –õ–ï–ö–¶–ò–ò =====
let selectedSubject = null;
function renderLectures() {
  document.getElementById('filterNav').innerHTML = '';
  if (selectedSubject !== null) {
    renderLectureList(selectedSubject);
    return;
  }
  let html = `<div class="section-title">–ü—Ä–µ–¥–º–µ—Ç—ã</div>`;
  if (!DATA.lectures.length) {
    html = `<div class="empty-state"><div class="empty-emoji">üìñ</div><div class="empty-title">–ü—Ä–µ–¥–º–µ—Ç–æ–≤ –Ω–µ—Ç</div><div class="empty-sub">–õ–µ–∫—Ü–∏–∏ –µ—â—ë –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</div></div>`;
  } else {
    DATA.lectures.forEach((subj, i) => {
      html += `
        <div class="card lecture" style="animation-delay:${i*0.06}s" onclick="openSubject(${subj.id})">
          <div class="card-header">
            <div class="card-title">${subj.subject}</div>
            <span class="badge soon">${subj.lectures.length} –ª–µ–∫—Ü–∏–π</span>
          </div>
        </div>`;
    });
  }
  document.getElementById('mainContent').innerHTML = html;
}

function openSubject(id) {
  selectedSubject = id;
  renderLectureList(id);
}

function renderLectureList(id) {
  const subj = DATA.lectures.find(s => s.id === id);
  if (!subj) return;
  document.getElementById('filterNav').innerHTML = `
    <button class="nav-btn active" onclick="selectedSubject=null;renderLectures()">‚Üê –ù–∞–∑–∞–¥</button>
    <button class="nav-btn">${subj.subject}</button>
  `;
  let html = `<div class="section-title">${subj.subject}</div>`;
  subj.lectures.forEach((lec, i) => {
    html += `
      <div class="card lecture" style="animation-delay:${i*0.06}s" onclick="openLecDetail(${id},${lec.id})">
        <div class="card-header">
          <div class="card-title">–õ–µ–∫—Ü–∏—è ${i+1}: ${lec.title}</div>
        </div>
        <div class="card-meta">
          <div class="meta-item">üìÖ ${lec.date}</div>
        </div>
      </div>`;
  });
  document.getElementById('mainContent').innerHTML = html;
}

function openLecDetail(subjId, lecId) {
  const subj = DATA.lectures.find(s => s.id === subjId);
  const lec = subj?.lectures.find(l => l.id === lecId);
  if (!lec) return;
  const idx = subj.lectures.indexOf(lec);
  document.getElementById('detailType').textContent = `üìñ ${subj.subject}`;
  document.getElementById('detailName').textContent = `–õ–µ–∫—Ü–∏—è ${idx+1}: ${lec.title}`;
  document.getElementById('detailBody').innerHTML = `
    <div class="info-block">
      <div class="info-row"><span class="info-icon">üìÖ</span><div class="info-content"><div class="info-label">–î–∞—Ç–∞</div><div class="info-value">${lec.date}</div></div></div>
    </div>
    <div class="section-title">–ö–æ–Ω—Å–ø–µ–∫—Ç</div>
    <div class="info-block">
      <div style="font-size:14px;line-height:1.7;color:var(--text)">${lec.description}</div>
    </div>
  `;
  openDetail();
}

// ===== –î–ï–¢–ê–õ–¨–ù–´–ô –í–ò–î =====
function openDetail() {
  document.getElementById('detailView').classList.add('open');
  if (tg) tg.BackButton.show();
  if (tg) tg.BackButton.onClick(closeDetail);
}

function closeDetail() {
  document.getElementById('detailView').classList.remove('open');
  if (tg) tg.BackButton.hide();
  renderContent();
}

// ===== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø =====
renderContent();
</script>
</body>
</html>
